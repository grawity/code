#!/usr/bin/env bash
# rpw - generate a random password

_rpw() {
	tr -dc "A-Za-z0-9" < /dev/urandom | case $1 in
		"") head -c 20 | sed -r "s/.{5}/-&/g; s/^-//";;
		-*) head -c $((-$1)) | sed -r "s/.{5}/-&/g; s/^-//";;
		*) head -c "$1";;
	esac
}

pw=$(_rpw "$@")

printf '%s\n' "$pw"
