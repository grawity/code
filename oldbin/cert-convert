#!/bin/bash

x509_pem_to_x509_der() {
	openssl x509 -outform der
}
x509_der_to_x509_pem() {
	openssl x509 -inform der
}

pkcs7_pem_to_pkcs7_der() {
	openssl pkcs7 -outform der
}
pkcs7_der_to_pkcs7_pem() {
	openssl pkcs7 -inform der
}

x509_pem_to_pkcs7_pem() {
	openssl crl2pkcs7 -nocrl -certfile /dev/stdin
}
pkcs7_pem_to_x509_pem() {
	openssl pkcs7 -print_certs
}

pem_to_der() {
	case $1 in
	x509)	openssl x509 -outform der ;;
	pkcs7)	openssl pkcs7 -outform der ;;
	esac
}

inform=$1
outform=$2

"$1_to_$2" "${@:3}"
