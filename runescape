#!/bin/sh
# Environment wrapper

export PULSE_PROP="application.icon_name='runescape'"
export PULSE_PROP_OVERRIDE="application.name='RuneScape'"

case $1 in
    "--beta")
	shift; set -- "--prmfile=beta.prm" "$@";;
    "--classic")
    	zenity --error --text="RuneScape Classic won't work with this.";
	exit 1;;
    "--custom")
    	shift; set -- "--prmfile=custom.prm" "$@";;
    "--oldschool")
	shift; set -- "--prmfile=oldschool.prm" "$@";;
    "@"*)
	f=${1#'@'}; f=${f%'.prm'}
	shift; set -- "--prmfile=$f.prm" "$@";;
esac

exec ~/.local/rsu-client/runescape/runescape --unixquery "$@"
